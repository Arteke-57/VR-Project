<html>
  <head>
        <meta name="viewport" content="width=device-width,initial-scale=1">
        <!-- Modules Requiring -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
        <script src="./js/modules/i18n.js"></script>
        <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
       <!-- I love supermedium -->
       <script src="https://unpkg.com/aframe-environment-component@1.3.0/dist/aframe-environment-component.min.js"></script>
       <script src="https://cdn.jsdelivr.net/gh/c-frame/aframe-particle-system-component@master/dist/aframe-particle-system-component.min.js"></script>
       <!-- Main Scripts -->
       <script src="./js/main.js"></script>
  </head>

  <body>
    <a-scene cursor="rayOrigin: mouse; fuse: false" raycaster="objects: .raycastable" fog="far: 150">
        
      <a-entity position="0 2.25 -15" particle-system="preset: rain"></a-entity>

        <!-- Locks Mouse & Touch -->
        <a-entity position="0 1.6 0" camera look-controls="magicWindowTrackingEnabled: true; touchEnabled: true; mouseEnabled: true" renderer="sortObjects: true"> </a-entity>

      <!-- VR -->
      <a-entity id="leftController" laser-controls="hand: left" raycaster="objects: .raycastable"></a-entity>
      <a-entity id="rightController" laser-controls="hand: right" raycaster="objects: .raycastable" line="color: #118A7E"></a-entity>
      <a-entity id="leftHand" hand-tracking-controls="hand: left" raycaster="objects: .raycastable"></a-entity>
      <a-entity id="rightHand" hand-tracking-controls="hand: right" raycaster="objects: .raycastable"></a-entity>
  
        <a-entity environment="preset: starry; ground: flat; lighting: none; skyType: gradient; horizonColor: #4d4d4d; skyColor: #acebff;"></a-entity>
        
     <a-assets>
      <video id="CART_SECRET" loop="true" preload src="./resources/videos/cart.mp4"></video>

      <a-asset-item id="background" src="./resources/objects/fond.obj"></a-asset-item>
      
      <img id="moai" src="./resources/images/moai.png"/>

      <img id="img_1" src="./resources/images/MELEC.jpg"/>

      <img id="img_2" src="./resources/images/SN.jpg"/>

      <img id="img_3" src="./resources/images/BTS.jpg"/>

      <a-mixin id="main" geometry="primitive: plane; width: 0.5783552; height: 0.8192"
        material="color: white; shader: flat"
        animation__scale="property: scale; to: 1.5 1.5 1.5; dur: 200; startEvents: mouseenter"
        animation__scale_reverse="property: scale; to: 1 1 1; dur: 200; startEvents: mouseleave"

        animation__position="property: rotation; to: 10 0 0; dur: 200; startEvents: mouseenter"
        animation__position__reverse="property: rotation; to: 0 0 0 dur: 10; startEvents: mouseleave"
      />

       <a-mixin id="poster" position="0 0 0.005"
       geometry="primitive: plane; width: 0.544768; height: 0.786432"
       material="color: white; shader: flat" />

       <a-mixin id="movieImage" position="0 0.495 0.002"
       geometry="primitive: plane; width: 1.5; height: 0.81"
       material="src: #ponyo; shader: flat; transparent: true" />
    </a-assets>

        <a-entity id="ui" position="0 1.6 -2.5">
            <!-- Poster menu -->
            <a-entity id="menu" highlight>
              <a-entity id="1" position="-0.8 0 0" mixin="main" class="raycastable menu-button">
                <a-entity material="src: #img_1" mixin="poster"></a-entity>
              </a-entity>
    
              <a-entity id="2" position="0 0 0" mixin="main" class="raycastable menu-button">
                <a-entity material="src: #img_2" mixin="poster"></a-entity>
              </a-entity>
    
              <a-entity id="3" position="0.8 0 0" mixin="main" class="raycastable menu-button">
                <a-entity material="src: #img_3" mixin="poster"></a-entity>
              </a-entity>

              <a-video src="#CART_SECRET" toggleclick position="2 0 -.5" visible="false" class="raycastable"></a-video>
        </a-entity>

        <a-entity id="infoPanel" position="0 0 0.5" info-panel visible="false"
          geometry="primitive: plane; width: 1.5; height: 1"

          material="color: #333333; shader: flat; transparent: false" class="raycastable">
          <a-entity id="Info_Title" position="-0.68 0.25 0"
            text="shader: msdf; anchor: left; width: 1.5; font: https://cdn.aframe.io/examples/ui/Viga-Regular.json;  color: white; value: Lorem ipsum"></a-entity>
          <a-entity id="Info_Description" position="-0.68 0.15 0" text="baseline: top; shader: msdf; anchor: left; font: https://cdn.aframe.io/examples/ui/Viga-Regular.json; align: center; color: white; value: Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."></a-entity>

          <a-entity class="raycastable" id="Info_Confirm" position=".55 .3 .01"  geometry="primitive: plane; width: .3; height: .18"  material="color: #00FF28; shader: flat; transparent: true" text="value: ENTER ; align: center; width: 1.4; font: https://cdn.aframe.io/fonts/Exo2SemiBold.fnt"> </a-entity>
          <a-entity class="raycastable" id="Info_Cancel"  position=".55 -.3 .01" geometry="primitive: plane; width: .3; height: .18"  material="color: #ff0004; shader: flat; transparent: true" text="value: CANCEL; align: center; width: 1.4; font: https://cdn.aframe.io/fonts/Exo2SemiBold.fnt"> </a-entity>

        </a-entity>

      </a-entity>
    </a-entity>

    <!-- Markiplier -->
    
    <a-entity test anchor="center" scale=".5 .5 .01" position="0 2.4 -2.05" rotation="0 0 0" geometry="primitive: plane; width: 4.5; height: .5" material="color: #333333; shader: shadow; transparent: false" sound="src: ./resources/sounds/jack.mp3; on: click; poolSize: 100" class="raycastable">
      <a-text value="LYCEE LOUIS DE CORMONTAIGNE" width="7" height="1" anchor="center" align="center" particle-system="color: #EF0000,#44CC00; particleCount: 10000; size: 0.1; duration: 1; positionSpread: 1 1 1; rotationAngleSpread: 2; enabled: false" ></a-text>
    </a-entity>

    <a-entity moai anchor="center" scale=".5 .5 .01" position="0 1.5 1.5" rotation="0 180 0" particle-system="color: #EF0000,#44CC00; particleCount: 10000; size: 0.1; duration: 1; positionSpread: 1 1 1; rotationAngleSpread: 2; enabled: false" sound="src: ./resources/sounds/explosion.mp3; on: click; poolSize: 100" geometry="primitive: plane; width: 1.5; height: 1" material="color: #333333; shader: shadow; transparent: false" class="raycastable">
      <a-text value="Behind you" anchor="center" align="center" class="Behind_Bad" ></a-text>
    </a-entity>

    <a-entity id="moai_entity" scale="1.5 1 1" position="0 1.5 .5" rotation="0 180 0" visible="false">
      <a-entity material="src: #moai; alphaTest: 1" mixin="poster"></a-entity>
    </a-entity>

    <a-entity anchor="center" scale=".5 .5 .01" position="1.5 1.5 0" rotation="0 -90 0" geometry="primitive: plane; width: 1.5; height: 1" material="color: #333333; shader: shadow; transparent: false" class="raycastable">
      <a-text value="Wrong Side" anchor="center" align="center" class="Side_Bad" ></a-text>
    </a-entity>

    <a-entity anchor="center" scale=".5 .5 .01" position="-1.5 1.5 0" rotation="0 90 0" geometry="primitive: plane; width: 1.5; height: 1" material="color: #333333; shader: shadow; transparent: false" class="raycastable">
      <a-text value="Wrong Side" anchor="center" align="center" class="Side_Bad" ></a-text>
    </a-entity>

    <!-- Background -->
    <a-entity anchor="center" position="-3 14 -53" rotation="90 0 0" scale="100 20 100" color="#333333">
      <a-entity obj-model="obj: #background" modify-materials position="0 0 0"></a-entity>
    </a-entity>

    </a-scene>
  </body>
</html>
